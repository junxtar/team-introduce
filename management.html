<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>관리자 페이지</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="management.css" />

    <script type="module">
      // Firebase SDK 라이브러리 가져오기
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import {
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // Firebase 구성 정보 설정
      const firebaseConfig = {
        apiKey: "AIzaSyC0ZJ1e-znOrvP4dmlZ53end6N6A0OaUm8",
        authDomain: "introteam-6a680.firebaseapp.com",
        projectId: "introteam-6a680",
        storageBucket: "introteam-6a680.appspot.com",
        messagingSenderId: "284189308059",
        appId: "1:284189308059:web:a48130e6f4868ac63b823e",
      };

      // Firebase 인스턴스 초기화
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      $("#btn").click(async function () {
        let name = $("#name").val();
        let image = $("#image").val();
        let mbti = $("#mbti").val();
        let strengths = $("#strengths").val();
        let style = $("#style").val();
        let goal = $("#goal").val();
        let blog = $("#blog").val();

        if (
          name !== "" &&
          image !== "" &&
          mbti !== "" &&
          strengths !== "" &&
          style !== "" &&
          goal !== "" &&
          blog !== ""
        ) {
          let inform = {
            name: name,
            image: image,
            mbti: mbti,
            strengths: strengths,
            style: style,
            goal: goal,
            blog: blog,
          };

          await addDoc(collection(db, "team"), inform);
          alert("저장완료");
          window.location.reload();
        } else {
          alert("빈칸을 채워주세요.");
        }
      });
    </script>
  </head>
  <body>
    <header>
      <div id="home">
        <h4
          style="font-size: 35px; font-weight: 800"
          onClick="location.href='index.html'"
        >
          🐾 개발<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;자국
          🐾
        </h4>
      </div>
      <div id="pageTitle">
        <h1>🐾 관리자 🐾</h1>
      </div>
    </header>
    <div id="typingBox">
      <form>
        <input class="textArea" id="name" type="text" placeholder="이름" />
        <input
          class="textArea"
          id="image"
          type="text"
          placeholder="프로필 이미지 주소"
        />
        <input class="textArea" id="mbti" type="text" placeholder="mbti" />
        <input class="textArea" id="strengths" type="text" placeholder="장점" />
        <input
          class="textArea"
          id="style"
          type="text"
          placeholder="자신의 협업 스타일"
        />
        <input
          class="textArea"
          id="goal"
          type="text"
          placeholder="내일배움 캠프의 궁극적인 목표"
        />
        <input
          class="textArea"
          id="blog"
          type="text"
          placeholder="블로그 주소"
        />
        <input class="submitArea" id="btn" type="button" value="등록하기" />
      </form>
    </div>
  </body>
</html>
