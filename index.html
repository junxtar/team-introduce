<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🐾개발자취🐾</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap");

        * {
            font-family: "Noto Sans KR", sans-serif;
        }

        .msgbox {

            height: 300px;
            background-color: white;
            margin-bottom: 50px;
        }

        .left {
            width: 50%;
            float: left;
            box-sizing: border-box;
        }

        .right {
            width: 50%;
            float: right;
            box-sizing: border-box;
        }


        .main {
            background-color: #f6f3f4;
        }

        .myTitle {
            height: 250px;
            color: #002a55;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .myTitle>img {
            display: flex;
            flex-direction: column;
            align-items: end;
            justify-content: end;
        }

        .myCards {
            width: 1000px;

            margin: 30px auto 0px auto;
        }

        @media (max-width:960px) {

            /*가로 너비가 767px 이하일 때 아래 스타일 적용*/
            .myCards {
                width: 500px;
            }

        }

        .myPostingBox {
            width: 600px;
            margin: 20px auto 0px auto;
            padding: 20px;
            box-shadow: 0px 0px 3px 0px blue;
            border-radius: 5px;
        }

        .myBtn {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }

        .myBtn>button {
            margin: 1px 5px 1px 5px;
        }

        #space-text {
            margin-left: 100px;
        }

        .col {
            text-align: center;
        }

        .col>img {
            height: 250px;
            width: 250px;
        }
    </style>
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import {
            collection,
            addDoc,
        } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase 구성 정보 설정

        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAsVo9xssg9NKW7TbfYwTWAEVUshRRw-g8",
            authDomain: "sparta-a0090.firebaseapp.com",
            projectId: "sparta-a0090",
            storageBucket: "sparta-a0090.appspot.com",
            messagingSenderId: "752327562042",
            appId: "1:752327562042:web:d0ff8e99b9bf5e3562b603",
            measurementId: "G-7W6XWLWHKF",
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        $("#postingbtn").click(async function () {
            let image = $("#image").val();
            let title = $("#title").val();
            let content = $("#content").val();
            let date = $("#date").val();
            let doc = {
                image: image,
                title: title,
                content: content,
                date: date,
            };
            await addDoc(collection(db, "albums"), doc);
            alert("저장 완료");
            window.location.reload();
        });

        $("#savebtn").click(async function () {
            $("#postingbox").toggle();
        });

        let url = "http://spartacodingclub.shop/sparta_api/seoulair";
        fetch(url)
            .then((res) => res.json())
            .then((data) => {
                let mise = data["RealtimeCityAir"]["row"][0]["IDEX_NM"];
                $("#msg").text(mise);
            });

        let docs = await getDocs(collection(db, "albums"));
        docs.forEach((doc) => {
            let row = doc.data();
            let image = row["image"];
            let title = row["title"];
            let content = row["content"];
            let date = row["date"];

            let temp_html = `
            <div class="col">
                    <img src="${image}" class="rounded-circle" />
                </div>`;

            $("#cardBox").append(temp_html);
        });
    </script>
</head>

<body>
    <div class="main">
        <div calss="hidden-information"></div>
        <div class="myTitle">
            <div class="title">
                <h1>🐾 개발</h1>
                <h1 id="space-text">자국 🐾</h1>
            </div>


            <button class="Btn" id="footbtn" type="button">
                <img src="images/icon.png" onclick="">
            </button>



            <!-- <img src="images/icon.png" /> -->
        </div>
        <div class="msgbox">
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="left">
                    <h1 class="display-5 fw-bold">🐾Team. 개발자취</h1>

                    <p class="col-md-8 fs-4">개발자는 개발문서를 학습하고 기록하여 자신의 발자취를 남긴다 🐾</p>

                </div>
                <div class="right">
                    <h1 class="display-5 fw-bold"> 우리 팀만의 특징</h1>

                    <ul>
                        <li> bullet point!1 </li>
                        <li> bullet point!2 </li>
                    </ul>

                </div>
            </div>
        </div>

        <div class="msgbox">
            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="left">
                    <h1 class="display-5 fw-bold">🐾Team. 규칙</h1>



                </div>
                <div class="right">

                    <ul>
                        <li> 09:00 - 09:30 아침 회의</li>
                        <li>20:30 ~ 21:00 팀원 마무리 회의 </li>
                        <li> 20:00 ~ 20:30 알고리즘 학습 시간 </li>
                        <li> 매일 TIL 블로그 업로드 및 공유 </li>
                        <li> 구글링을 잘하자 </li>
                        <li>이슈 발생시 팀원들과 공유</li>
                    </ul>

                </div>
            </div>
        </div>

        <div class="myPostingBox" id="postingbox">
            <form class="form-floating mb-3">
                <input type="email" class="form-control" id="image" placeholder="앨범 이미지" />
                <label for="floatingInputValue">앨범 이미지</label>
            </form>
            <form class="form-floating mb-3">
                <input type="email" class="form-control" id="title" placeholder="앨범 제목" />
                <label for="floatingInputValue">앨범 제목</label>
            </form>
            <form class="form-floating mb-3">
                <input type="email" class="form-control" id="content" placeholder="앨범 내용" />
                <label for="floatingInputValue">앨범 내용</label>
            </form>
            <form class="form-floating mb-3">
                <input type="email" class="form-control" id="date" placeholder="앨범 날짜" />
                <label for="floatingInputValue">앨범 날짜</label>
            </form>


            <div class="myBtn">
                <button id="postingbtn" type="button" class="btn btn-primary">
                    기록하기
                </button>
                <button type="button" class="btn btn-outline-primary">닫기</button>
            </div>
        </div>
        <div class="myCards">
            <div id="cardBox" class="row row-cols-1 row-cols-lg-3 g-4 justify-content-center">
                <div class="col">
                    <img src="https://ca.slack-edge.com/T043597JK8V-U05S3FE0F97-f32d8fb3bb73-512"
                        class="rounded-circle" />
                </div>
                <div class="col">
                    <img src="https://ca.slack-edge.com/T043597JK8V-U05SVCQ0UJD-c968d8f6f680-512"
                        class="rounded-circle" />
                </div>
                <div class="col">
                    <img src="https://ca.slack-edge.com/T043597JK8V-U05S298PAUV-dc53077eed93-512"
                        class="rounded-circle" />
                </div>
            </div>
        </div>
    </div>
</body>

</html>